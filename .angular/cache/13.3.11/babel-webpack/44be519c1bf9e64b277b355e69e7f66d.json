{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../account-services/account-services.service\";\nimport * as i4 from \"ngx-order-pipe\";\nimport * as i5 from \"src/app/profile-management/profile-services/profile-services.service\";\nimport * as i6 from \"ngx-pagination\";\nconst _c0 = [\"pdfTable\"];\n\nfunction PaymentHistoryComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵtext(1, \" Please select start date\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵtext(1, \" Please select end date\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵtext(1, \" Start date should be less than end date \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_tr_62_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"AddOn\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_tr_62_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r14.dimProduct.productName);\n  }\n}\n\nfunction PaymentHistoryComponent_tr_62_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r14.dimProduct.subProduct);\n  }\n}\n\nfunction PaymentHistoryComponent_tr_62_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Success\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_tr_62_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Failed\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_tr_62_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 52);\n    i0.ɵɵtemplate(2, PaymentHistoryComponent_tr_62_span_2_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(3, PaymentHistoryComponent_tr_62_span_3_Template, 2, 1, \"span\", 28);\n    i0.ɵɵtemplate(4, PaymentHistoryComponent_tr_62_span_4_Template, 2, 1, \"span\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 52);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 52);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"uppercase\");\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 52);\n    i0.ɵɵtemplate(13, PaymentHistoryComponent_tr_62_span_13_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(14, PaymentHistoryComponent_tr_62_span_14_Template, 2, 0, \"span\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 52)(16, \"i\", 53);\n    i0.ɵɵlistener(\"click\", function PaymentHistoryComponent_tr_62_Template_i_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const data_r14 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.getBill(data_r14);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const data_r14 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", data_r14.dimProduct == null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r14.dimProduct != null && data_r14.dimProduct.subProduct == \"MAIN\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r14.dimProduct != null && data_r14.dimProduct.subProduct != \"MAIN\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 8, data_r14.createdAt, \"dd-MMM-yyyy, h:mm a\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(10, 11, data_r14.currency), \"\\u00A0\", i0.ɵɵpipeBind3(11, 13, data_r14.amount, \"\", \"\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", data_r14.captured == \"true\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r14.captured != \"true\");\n  }\n}\n\nfunction PaymentHistoryComponent_div_72_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 55);\n    i0.ɵɵtext(1, \" Please enter value greater than 0.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_div_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PaymentHistoryComponent_div_72_p_1_Template, 2, 0, \"p\", 54);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r4 = i0.ɵɵreference(71);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors == null ? null : _r4.errors.pattern);\n  }\n}\n\nfunction PaymentHistoryComponent_span_125_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" N.A. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_span_126_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.billData.companyName, \" \");\n  }\n}\n\nfunction PaymentHistoryComponent_tr_142_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" N.A. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_tr_142_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r27 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r27.billData.gstin, \" \");\n  }\n}\n\nfunction PaymentHistoryComponent_tr_142_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 44);\n    i0.ɵɵtext(2, \" GSTIN: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtemplate(4, PaymentHistoryComponent_tr_142_span_4_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(5, PaymentHistoryComponent_tr_142_span_5_Template, 2, 1, \"span\", 28);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.billData.gstin == null || ctx_r9.billData.gstin == \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.billData.gstin != null);\n  }\n}\n\nfunction PaymentHistoryComponent_tr_156_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 47);\n    i0.ɵɵtext(2, \" Plan amount: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"uppercase\");\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(5, 2, ctx_r10.billData.currency), \"\\u00A0\", i0.ɵɵpipeBind3(6, 4, ctx_r10.billData.totalAmount / 1.18, \"\", \"\"), \" \");\n  }\n}\n\nfunction PaymentHistoryComponent_tr_157_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 47);\n    i0.ɵɵtext(2, \" GST(18%): \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"uppercase\");\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(5, 2, ctx_r11.billData.currency), \"\\u00A0\", i0.ɵɵpipeBind3(6, 4, ctx_r11.billData.totalAmount - ctx_r11.billData.totalAmount / 1.18, \"\", \"\"), \" \");\n  }\n}\n\nfunction PaymentHistoryComponent_span_160_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Total paid amount:\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaymentHistoryComponent_span_161_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Add-on amount:\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c1 = function (a0, a1) {\n  return {\n    itemsPerPage: a0,\n    currentPage: a1\n  };\n}; // import pdfMake from 'pdfmake/build/pdfmake';\n// import pdfFonts from 'pdfmake/build/vfs_fonts';\n// pdfMake.vfs = pdfFonts.pdfMake.vfs;\n// import htmlToPdfmake from 'html-to-pdfmake';\n// import * as html2canvas from 'html2canvas';\n\n\nexport let PaymentHistoryComponent = /*#__PURE__*/(() => {\n  class PaymentHistoryComponent {\n    constructor(datepipe, fb, accountServicesService, orderPipe, profileServicesService) {\n      this.datepipe = datepipe;\n      this.fb = fb;\n      this.accountServicesService = accountServicesService;\n      this.orderPipe = orderPipe;\n      this.profileServicesService = profileServicesService;\n      this.order = 'createdAt';\n      this.reverse = true;\n      this.paymentList = [];\n      this.allPaymentEntries = [];\n      this.dobflag1 = false;\n      this.dobflag2 = false;\n      this.dateFilterFlg = false;\n      this.billData = [];\n      this.formData = {\n        startDate: \"\",\n        endDate: \"\"\n      }; //Pagination\n\n      this.p = 1;\n      this.showData = {\n        //rows Per Page\n        rowsPerPage: 5\n      };\n      this.submitted = false;\n      this.transactionDetails = [];\n      this.dateFlag = false;\n      this.profileInfo = [];\n      this.alldata = [];\n      this.actualAmount = 0.0;\n      this.tax = 0.0;\n      this.billGenerate = [];\n    }\n\n    ngOnInit() {\n      this.transactionList();\n      this.getProfileDetails();\n    }\n\n    dateLessThan(from, to) {\n      return group => {\n        let f = group.controls[from];\n        let t = group.controls[to];\n\n        if (f.value > t.value) {\n          return {\n            dates: \"Start date should be less than end date\"\n          };\n        }\n\n        return {};\n      };\n    }\n\n    setOrder(value) {\n      if (this.order === value) {\n        this.reverse = !this.reverse;\n      }\n\n      this.order = value;\n    }\n\n    transactionList() {\n      this.transactionDetails = [];\n      this.allPaymentEntries = [];\n      let resp = this.accountServicesService.transaction(sessionStorage.getItem(\"customerId\"));\n      resp.subscribe(data => {\n        this.paymentList = data;\n\n        for (let i in data) {\n          var amount = data[i].amount / 100;\n          this.paymentList[i].amount = amount;\n        }\n\n        this.allPaymentEntries = this.paymentList;\n        this.transactionDetails = this.allPaymentEntries; // console.log(this.transactionDetails);\n      });\n    }\n\n    reverseAndTimeStamp(dateString) {\n      let d1 = this.datepipe.transform(dateString, \"yyyy-MM-dd\");\n      return d1;\n    }\n\n    compareDate() {\n      let fr = this.datepipe.transform(this.formData.startDate, \"yyyy-MM-ddThh:mm\");\n      let to = this.datepipe.transform(this.formData.endDate, \"yyyy-MM-ddThh:mm\");\n\n      if (fr != null || fr != '' || fr != undefined) {\n        if (fr <= to) {\n          this.dateFlag = false;\n        } else {\n          this.dateFlag = true;\n        }\n      }\n    }\n\n    filterDate() {\n      this.transactionDetails = [];\n      this.dateValid1();\n      this.dateValid2();\n      let fr = this.datepipe.transform(this.formData.startDate, \"yyyy-MM-ddThh:mm\");\n      let to = this.datepipe.transform(this.formData.endDate, \"yyyy-MM-ddThh:mm\");\n\n      if (this.formData.startDate != null && this.formData.startDate != undefined && this.formData.startDate != \"\" && this.formData.endDate != null && this.formData.endDate != undefined && this.formData.endDate != \"\") {\n        // this.dateFilterFlg = true;\n        let selectedMembers = this.allPaymentEntries.filter(f => new Date(this.reverseAndTimeStamp(f.createdAt)) >= new Date(this.formData.startDate) && new Date(this.reverseAndTimeStamp(f.createdAt)) <= new Date(this.formData.endDate));\n        this.transactionDetails = selectedMembers;\n      } else {\n        this.transactionDetails = this.allPaymentEntries;\n      }\n    }\n\n    dateValid1() {\n      if (this.formData.startDate == null || this.formData.startDate == undefined || this.formData.startDate == \"\") {\n        this.dobflag1 = true;\n      } else {\n        this.dobflag1 = false;\n      }\n    }\n\n    dateValid2() {\n      if (this.formData.endDate == null || this.formData.endDate == undefined || this.formData.endDate == \"\") {\n        this.dobflag2 = true;\n      } else {\n        this.dobflag2 = false;\n      }\n    }\n\n    reset() {\n      this.formData.startDate = \"\";\n      this.formData.endDate = \"\";\n      this.dateFlag = false;\n      this.transactionDetails = this.allPaymentEntries;\n      this.dobflag1 = false;\n      this.dobflag2 = false;\n    }\n\n    getProfileDetails() {\n      this.profileInfo = [];\n\n      if (sessionStorage.getItem(\"customerId\") != null && sessionStorage.getItem(\"customerId\") != undefined) {\n        let resp = this.profileServicesService.getProfileDetails(sessionStorage.getItem(\"customerId\"));\n        resp.subscribe(data => {\n          this.profileInfo = data;\n        });\n      }\n    }\n\n    getBill(data) {\n      console.log(data);\n      this.billData = []; // console.log(data,\"***\");\n\n      this.billData.firstName = data.dimBilling.firstName;\n      this.billData.lastName = data.dimBilling.lastName;\n      this.billData.invoice = data.invoiceId;\n      this.billData.date = data.createdAt; // this.billData.contact = data.contact;\n\n      this.billData.currency = data.currency;\n      this.billData.totalAmount = data.amount;\n      this.billData.description = data.description;\n      this.billData.country = sessionStorage.getItem(\"countryCode\");\n      this.billData.companyName = data.dimBilling.companyName;\n      this.billData.address = data.dimBilling.address;\n      this.billData.contact = data.dimBilling.mobileCountryCode + \" \" + data.dimBilling.mobileNumber;\n\n      if (data.billingDetailsSkey != null && data.billingDetailsSkey != '') {\n        this.billData.gstin = data.dimBilling.gstinNo;\n      } else {\n        this.billData.gstin = '';\n      }\n    } // downloadImage() {\n    //   html2canvas(document.querySelector(\"#table\")).then(canvas => {\n    //     var pdf = new jsPDF('p', 'pt', [canvas.width, canvas.height]);\n    //     var imgData = canvas.toDataURL(\"image/jpeg\", 5.0);\n    //     pdf.addImage(imgData, 0, 0, canvas.width, canvas.height);\n    //     pdf.save('MarkZil_bill.pdf');\n    //   });\n    // }\n\n\n    downloadAsPDF() {\n      let resp = this.accountServicesService.createBill(this.billData.invoice);\n      resp.subscribe(data => {\n        var file = new Blob([data], {\n          type: 'application/pdf'\n        });\n        var fileURL = URL.createObjectURL(file); // if you want to open PDF in new tab\n\n        window.open(fileURL);\n        var a = document.createElement('a');\n        a.href = fileURL;\n        a.target = '_blank'; // a.download = 'bill.pdf';\n\n        document.body.appendChild(a);\n        a.click();\n      }, error => {// console.log('getPDF error: ', error);\n      });\n    }\n\n  }\n\n  PaymentHistoryComponent.ɵfac = function PaymentHistoryComponent_Factory(t) {\n    return new (t || PaymentHistoryComponent)(i0.ɵɵdirectiveInject(i1.DatePipe), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.AccountServicesService), i0.ɵɵdirectiveInject(i4.OrderPipe), i0.ɵɵdirectiveInject(i5.ProfileServicesService));\n  };\n\n  PaymentHistoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PaymentHistoryComponent,\n    selectors: [[\"app-payment-history\"]],\n    viewQuery: function PaymentHistoryComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pdfTable = _t.first);\n      }\n    },\n    decls: 173,\n    vars: 55,\n    consts: [[1, \"row\"], [1, \"col-md-12\"], [1, \"card\", \"mb-2\", \"font-20\"], [1, \"card-header\"], [1, \"row\", \"mt-1\"], [1, \"row\", \"m-1\"], [1, \"col-md-4\", \"pr-2\", \"form-group\"], [1, \"d-flex\"], [\"for\", \"sel1\", 1, \"mr-2\", \"pt-2\", \"mt-1\", 2, \"width\", \"90px\"], [1, \"text-danger\"], [\"type\", \"date\", 1, \"form-control\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"class\", \"help-box text-center\", 4, \"ngIf\"], [1, \"col-md-2\", \"pt-1\", \"d-flex\"], [1, \"pr-1\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\", \"btn-md\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-danger\", \"btn-md\", 3, \"click\"], [1, \"table-responsive\", \"mt-4\"], [1, \"table\", \"table-hover\", \"table-bordered\", \"mt-2\", \"tacho-table\"], [1, \"bg-dark\", \"thead\"], [1, \"th\", \"text-center\", 3, \"click\"], [1, \"pl-1\", \"point\", \"span\", 3, \"hidden\"], [2, \"text-align\", \"center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mt-2\", \"col-xs-2\"], [1, \"col-md-4\", \"mt-2\"], [1, \"show-rows\"], [\"type\", \"number\", \"min\", \"1\", \"name\", \"rowsPerPage\", \"pattern\", \"^[1-9][0-9]*$\", \"placeholder\", \"Rows\", 1, \"rowsPerPage\", \"ml-2\", 3, \"ngModel\", \"ngModelChange\"], [\"rowsPerPage\", \"ngModel\"], [4, \"ngIf\"], [1, \"col-md-8\"], [1, \"float-right\", \"mt-2\"], [3, \"pageChange\"], [\"id\", \"myModal2\", 1, \"modal\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [\"id\", \"table\", 1, \"modal-body\", \"bg-light\"], [\"pdfTable\", \"\"], [1, \"col-md-7\"], [\"src\", \"assets/images/Markzil-1 Cut.png\", \"alt\", \"Emanzo\", \"width\", \"55%\", 1, \"img-rounded\", \"logoDesign\", \"ml-20\"], [1, \"text-left\"], [1, \"textField\", \"mg-t-5\", \"col-md-12\"], [1, \"\", 2, \"font-size\", \"10px\", \"font-family\", \"verdana\"], [1, \"col-md-5\"], [1, \"table\", \"table-borderless\"], [1, \"text-right\", \"pl-2\"], [1, \"table\"], [1, \"col-md-4\"], [1, \"pl-3\"], [1, \"col-md-12\", \"text-center\", \"my-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\", \"mr-3\", 3, \"click\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\"], [1, \"help-box\", \"text-center\"], [1, \"text-center\"], [\"aria-hidden\", \"true\", \"title\", \"Download\", \"data-toggle\", \"modal\", \"data-target\", \"#myModal2\", \"data-backdrop\", \"false\", 1, \"fa\", \"fa-download\", 3, \"click\"], [\"class\", \"help-bpx\", \"class\", \"help-bpx\", \"style\", \"color: red;\", 4, \"ngIf\"], [1, \"help-bpx\", 2, \"color\", \"red\"]],\n    template: function PaymentHistoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"strong\");\n        i0.ɵɵtext(5, \"Payment Transactions\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 1)(8, \"div\", 5)(9, \"div\", 6)(10, \"div\", 7)(11, \"label\", 8);\n        i0.ɵɵtext(12, \"Start Date:\");\n        i0.ɵɵelementStart(13, \"span\", 9);\n        i0.ɵɵtext(14, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"input\", 10);\n        i0.ɵɵlistener(\"change\", function PaymentHistoryComponent_Template_input_change_15_listener() {\n          return ctx.dateValid1();\n        })(\"ngModelChange\", function PaymentHistoryComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.formData.startDate = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(16, PaymentHistoryComponent_div_16_Template, 2, 0, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 6)(18, \"div\", 7)(19, \"label\", 8);\n        i0.ɵɵtext(20, \"End Date:\");\n        i0.ɵɵelementStart(21, \"span\", 9);\n        i0.ɵɵtext(22, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"input\", 10);\n        i0.ɵɵlistener(\"change\", function PaymentHistoryComponent_Template_input_change_23_listener() {\n          ctx.dateValid2();\n          return ctx.compareDate();\n        })(\"ngModelChange\", function PaymentHistoryComponent_Template_input_ngModelChange_23_listener($event) {\n          return ctx.formData.endDate = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(24, PaymentHistoryComponent_div_24_Template, 2, 0, \"div\", 11);\n        i0.ɵɵtemplate(25, PaymentHistoryComponent_div_25_Template, 2, 0, \"div\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 12)(27, \"div\", 13)(28, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function PaymentHistoryComponent_Template_button_click_28_listener() {\n          return ctx.filterDate();\n        });\n        i0.ɵɵelementStart(29, \"strong\");\n        i0.ɵɵtext(30, \"Apply\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(31, \"div\", 13)(32, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function PaymentHistoryComponent_Template_button_click_32_listener() {\n          return ctx.reset();\n        });\n        i0.ɵɵelementStart(33, \"strong\");\n        i0.ɵɵtext(34, \"Reset\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(35, \"div\", 16)(36, \"table\", 17)(37, \"thead\", 18)(38, \"tr\")(39, \"th\", 19);\n        i0.ɵɵlistener(\"click\", function PaymentHistoryComponent_Template_th_click_39_listener() {\n          return ctx.setOrder(\"dimProduct.productName\");\n        });\n        i0.ɵɵtext(40, \"Plan Name\");\n        i0.ɵɵelementStart(41, \"span\", 20);\n        i0.ɵɵtext(42, \"\\u25BC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"span\", 20);\n        i0.ɵɵtext(44, \"\\u25B2\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"th\", 19);\n        i0.ɵɵlistener(\"click\", function PaymentHistoryComponent_Template_th_click_45_listener() {\n          return ctx.setOrder(\"createdAt\");\n        });\n        i0.ɵɵtext(46, \"Date of Payment\");\n        i0.ɵɵelementStart(47, \"span\", 20);\n        i0.ɵɵtext(48, \"\\u25BC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"span\", 20);\n        i0.ɵɵtext(50, \"\\u25B2\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(51, \"th\", 19);\n        i0.ɵɵlistener(\"click\", function PaymentHistoryComponent_Template_th_click_51_listener() {\n          return ctx.setOrder(\"amount\");\n        });\n        i0.ɵɵtext(52, \"Amount\");\n        i0.ɵɵelementStart(53, \"span\", 20);\n        i0.ɵɵtext(54, \"\\u25BC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"span\", 20);\n        i0.ɵɵtext(56, \"\\u25B2\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(57, \"th\", 21);\n        i0.ɵɵtext(58, \"Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"th\", 21);\n        i0.ɵɵtext(60, \"Invoice\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(61, \"tbody\");\n        i0.ɵɵtemplate(62, PaymentHistoryComponent_tr_62_Template, 17, 17, \"tr\", 22);\n        i0.ɵɵpipe(63, \"paginate\");\n        i0.ɵɵpipe(64, \"orderBy\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(65, \"div\", 23)(66, \"div\", 24)(67, \"div\", 25)(68, \"span\");\n        i0.ɵɵtext(69, \"Show Records\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"input\", 26, 27);\n        i0.ɵɵlistener(\"ngModelChange\", function PaymentHistoryComponent_Template_input_ngModelChange_70_listener($event) {\n          return ctx.showData.rowsPerPage = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(72, PaymentHistoryComponent_div_72_Template, 2, 1, \"div\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(73, \"div\", 29)(74, \"div\", 30)(75, \"pagination-controls\", 31);\n        i0.ɵɵlistener(\"pageChange\", function PaymentHistoryComponent_Template_pagination_controls_pageChange_75_listener($event) {\n          return ctx.p = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(76, \"div\", 32)(77, \"div\", 33)(78, \"div\", 34)(79, \"div\", 35, 36)(81, \"div\", 0)(82, \"div\", 37)(83, \"span\");\n        i0.ɵɵelement(84, \"img\", 38);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(85, \"div\", 39)(86, \"div\", 40)(87, \"p\", 41);\n        i0.ɵɵtext(88, \"Citylink Technology Solutions Pvt. Ltd. \");\n        i0.ɵɵelement(89, \"br\");\n        i0.ɵɵtext(90, \"Survey no. 124/2, Jadhav Vasti \");\n        i0.ɵɵelement(91, \"br\");\n        i0.ɵɵtext(92, \"Kalas, Pune - 411015, \");\n        i0.ɵɵelement(93, \"br\");\n        i0.ɵɵtext(94, \"India. \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(95, \"div\", 42)(96, \"div\")(97, \"strong\")(98, \"h3\");\n        i0.ɵɵtext(99, \" Invoice\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(100, \"table\", 43)(101, \"tbody\")(102, \"tr\")(103, \"td\", 44);\n        i0.ɵɵtext(104, \" Date: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(105, \"td\");\n        i0.ɵɵtext(106);\n        i0.ɵɵpipe(107, \"date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(108, \"tr\")(109, \"td\", 44);\n        i0.ɵɵtext(110, \" Invoice no.: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(111, \"td\");\n        i0.ɵɵtext(112);\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(113, \"div\", 0)(114, \"div\", 29)(115, \"div\")(116, \"strong\")(117, \"h6\");\n        i0.ɵɵtext(118, \"Bill To\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(119, \"table\", 45)(120, \"tbody\")(121, \"tr\")(122, \"td\", 44);\n        i0.ɵɵtext(123, \" Company name: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(124, \"td\");\n        i0.ɵɵtemplate(125, PaymentHistoryComponent_span_125_Template, 2, 0, \"span\", 28);\n        i0.ɵɵtemplate(126, PaymentHistoryComponent_span_126_Template, 2, 1, \"span\", 28);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(127, \"tr\")(128, \"td\", 44);\n        i0.ɵɵtext(129, \" Name: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(130, \"td\");\n        i0.ɵɵtext(131);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(132, \"tr\")(133, \"td\", 44);\n        i0.ɵɵtext(134, \" Address: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(135, \"td\");\n        i0.ɵɵtext(136);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(137, \"tr\")(138, \"td\", 44);\n        i0.ɵɵtext(139, \" contact no.: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(140, \"td\");\n        i0.ɵɵtext(141);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(142, PaymentHistoryComponent_tr_142_Template, 6, 2, \"tr\", 28);\n        i0.ɵɵelementStart(143, \"tr\")(144, \"td\", 44);\n        i0.ɵɵtext(145, \" Plan Detail: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(146, \"td\");\n        i0.ɵɵtext(147);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(148, \"div\", 46)(149, \"h1\");\n        i0.ɵɵtext(150, \"PAID\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(151, \"div\", 0);\n        i0.ɵɵelement(152, \"div\", 42);\n        i0.ɵɵelementStart(153, \"div\", 37)(154, \"table\", 45)(155, \"tbody\");\n        i0.ɵɵtemplate(156, PaymentHistoryComponent_tr_156_Template, 7, 8, \"tr\", 28);\n        i0.ɵɵtemplate(157, PaymentHistoryComponent_tr_157_Template, 7, 8, \"tr\", 28);\n        i0.ɵɵelementStart(158, \"tr\")(159, \"td\", 47);\n        i0.ɵɵtemplate(160, PaymentHistoryComponent_span_160_Template, 2, 0, \"span\", 28);\n        i0.ɵɵtemplate(161, PaymentHistoryComponent_span_161_Template, 2, 0, \"span\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(162, \"td\");\n        i0.ɵɵtext(163);\n        i0.ɵɵpipe(164, \"uppercase\");\n        i0.ɵɵpipe(165, \"currency\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(166, \"div\", 48)(167, \"button\", 49);\n        i0.ɵɵlistener(\"click\", function PaymentHistoryComponent_Template_button_click_167_listener() {\n          return ctx.downloadAsPDF();\n        });\n        i0.ɵɵelementStart(168, \"strong\");\n        i0.ɵɵtext(169, \"Download\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(170, \"button\", 50)(171, \"strong\");\n        i0.ɵɵtext(172, \" Cancel \");\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        const _r4 = i0.ɵɵreference(71);\n\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngModel\", ctx.formData.startDate);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.dobflag1);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.formData.endDate);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.dobflag2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.dateFlag);\n        i0.ɵɵadvance(14);\n        i0.ɵɵclassProp(\"active\", ctx.order === \"dimProduct.productName\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", ctx.reverse);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", !ctx.reverse);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"active\", ctx.order === \"createdAt\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", ctx.reverse);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", !ctx.reverse);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"active\", ctx.order === \"amount\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", ctx.reverse);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", !ctx.reverse);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(63, 36, i0.ɵɵpipeBind3(64, 39, ctx.transactionDetails, ctx.order, ctx.reverse), i0.ɵɵpureFunction2(52, _c1, ctx.showData.rowsPerPage, ctx.p)));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.showData.rowsPerPage);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r4.invalid || _r4.touched);\n        i0.ɵɵadvance(34);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(107, 43, ctx.billData.date, \"dd-MMM-yyyy\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" \", ctx.billData.invoice, \" \");\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", ctx.billData.companyName == null || ctx.billData.companyName == \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.billData.companyName != null);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate2(\" \", ctx.billData.firstName, \"\\u00A0\", ctx.billData.lastName, \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.billData.address, \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.billData.contact, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.billData.country == \"IND\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.billData.description, \" \");\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.billData.country == \"IND\" && ctx.billData.description != \"add-on\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.billData.country == \"IND\" && ctx.billData.description != \"add-on\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.billData.description != \"add-on\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.billData.description == \"add-on\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(164, 46, ctx.billData.currency), \"\\u00A0\", i0.ɵɵpipeBind3(165, 48, ctx.billData.totalAmount, \"\", \"\"), \" \");\n      }\n    },\n    directives: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i1.NgIf, i1.NgForOf, i2.MinValidator, i2.NumberValueAccessor, i2.PatternValidator, i6.PaginationControlsComponent],\n    pipes: [i6.PaginatePipe, i4.OrderPipe, i1.DatePipe, i1.UpperCasePipe, i1.CurrencyPipe],\n    styles: [\"input[type=date][_ngcontent-%COMP%]{width:100%;height:30px;padding:4px;margin:4px 0;display:inline-block;border:1px solid #ccc;border-radius:0;box-sizing:border-box}.thead[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{cursor:pointer;margin-right:15px;margin-left:15px}.thead[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   .span[_ngcontent-%COMP%]{visibility:hidden}.thead[_ngcontent-%COMP%]   .th.active[_ngcontent-%COMP%]{color:#8b0000}.thead[_ngcontent-%COMP%]   .th.active[_ngcontent-%COMP%]   .span[_ngcontent-%COMP%]{visibility:visible}.fa-download[_ngcontent-%COMP%]{cursor:pointer;font-size:large;color:#8a2be2}\"]\n  });\n  return PaymentHistoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}