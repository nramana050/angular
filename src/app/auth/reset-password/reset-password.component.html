
<div class="mt-5">
    <div class="auth-width">
        <div class="card form-bg"> 
            <div class="card-header">
                <h3 class="formHeading text-center text-secondary mt-4"><strong>Reset Password </strong></h3>
            </div>
            <div class="card-body"> 
                <form #genratePasswordform="ngForm" (ngSubmit)="genratePasswordform.form.valid  &&  genratePassword(genratePasswordform)" novalidate>
                    <div *ngIf="!errorFlag">
                        <div class="form-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text text bg-danger text-light"><i class="fa fa-unlock-alt"></i></span>
                                <input class="form-control" autocomplete="off" type="password" name="password"
                                    placeholder="Enter password" [type]="show_button1 ? 'text' : 'password'" oncopy="return false" onpaste="return false"
                                    data-toggle="password" [(ngModel)]="user.password" required #password="ngModel"
                                    autocomplete="new-password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" required>

                                <div class="input-group-addon" (click)="showPassword1()" style="background-color: #d9d9d9;">
                                    <span  style="background-color:#d9d9d9 !important;color: black !important;width: 35px;" class="form-control-append" [class]="show_eye1 ? 'fa fa-eye pt-2 px-2' : 'fa fa-eye-slash pt-2 px-2' "></span>
                                </div>
                            </div>
                            <div *ngIf="password.invalid && password.touched">
                                <span class="help-box"  *ngIf="password.errors.required">
                                    Please enter Password!</span>
                                <span class="help-box" *ngIf="password.errors.pattern">Please enter atleast one alphabets(Upper Case
                                    Letter,
                                    one lower case letter) ,One Number and one special character - Length min 8</span>

                            </div>
                        </div>

                        <div class="form-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text text bg-danger text-light"><i class="fa fa-unlock"></i></span>

                                <input class="form-control" type="password" [type]="show_button ? 'text' : 'password'"
                                    name="password1" id="password1" required placeholder="Confirm Password" oncopy="return false" onpaste="return false"
                                    [(ngModel)]="user.password1" required #password1="ngModel" 
                                    pattern="{{ password.value }}">
                                <div class="input-group-addon" (click)="showPassword()" style="background-color:#d9d9d9">
                                    <span style="background-color:#d9d9d9 !important;color: black !important;width: 35px;" class="form-control-append"
                                        [class]="show_eye ? 'fa fa-eye pt-2 px-2' : 'fa fa-eye-slash pt-2 px-2'">
                                    </span>
                                </div>
                            </div>
                            <div *ngIf=" password1.invalid">
                                <span class="help-bpx" style="color: red; font-size: 9pt;"
                                    *ngIf="password1.errors.required &&password1.touched">Confirm password is
                                    required!</span>
                                <span class="help-bpx" style="color: red; font-size: 9pt;"
                                    *ngIf="password1.errors.pattern">Password & confirm
                                    password does not match!</span>
                            </div>
                        </div>


                        <div class="text-center mb-3">
                            <button class=" btn btn-info mg-t-10 mt-3" type="submit" [disabled]="!genratePasswordform.valid" ><strong>Reset Password </strong></button>
                        </div>
                    </div>
                    <div *ngIf="errorFlag">
                        <p> Ohh!!! The link in email is either expired or already used. This password link was valid for
                            24 hours only.</p>
                        <p> No worries, just click on below button and receive the new password reset link on</p>
                        <p class="ml-20"><b>{{user.email}}</b></p>
                        <div class="form-group text-center">
                            <input type="submit" value="Reset My Password" (click)="forgotPass()"  class="btn btn-info  mg-t-10">
                        </div>
                    </div>
                </form>
            </div>
            </div>
        </div>
    </div>