<h1 mat-dialog-title>{{isNew ? 'Add course' : 'Edit course'}}</h1>

<mat-card-content class="height">
    <form [formGroup]="courseForm" (ngSubmit)="onSubmit()" autocomplete="off">
        <div class="card-row">
            <mat-form-field appearance="fill">
                <mat-label>Course name</mat-label>
                <input matInput formControlName="courseName" id="courseName" required>
                <mat-error *ngIf="courseForm.controls.courseName.errors?.required">
                    Course name is required.
                </mat-error>
                <mat-error
                    *ngIf="courseForm.controls.courseName.errors?.minlength && !courseForm.controls.courseName.errors?.pattern">
                    Course name must be greater than 3 characters.
                </mat-error>
                <mat-error
                    *ngIf="courseForm.controls.courseName.errors?.maxlength && !courseForm.controls.courseName.errors?.pattern ">
                    Course name must be less than 50 characters.
                </mat-error>
                <mat-error *ngIf="courseForm.controls.courseName.errors?.pattern ">
                    Course name is invalid.
                </mat-error>
            </mat-form-field>
        </div>
        <div class="card-row">
            <mat-form-field appearance="fill">
                <mat-label>Course code</mat-label>
                <input matInput formControlName="courseCode" id="courseCode" required>
                <mat-error *ngIf="courseForm.controls.courseCode.errors?.required">
                    Course code is required.
                </mat-error>
                <mat-error
                    *ngIf="courseForm.controls.courseCode.errors?.minlength && !courseForm.controls.courseCode.errors?.pattern">
                    Course code must be greater than 3 characters.
                </mat-error>
                <mat-error
                    *ngIf="courseForm.controls.courseCode.errors?.maxlength && !courseForm.controls.courseCode.errors?.pattern ">
                    Course code must be less than 20 characters.
                </mat-error>
                <mat-error *ngIf="courseForm.controls.courseCode.errors?.pattern ">
                    Course code is invalid.
                </mat-error>
            </mat-form-field>
        </div>        
        <div class="card-row">
            <mat-form-field id="type" appearance="fill">
                <mat-label>Type</mat-label>
                <mat-select matInput formControlName="courseType" required>
                    <mat-option *ngFor="let type of types" [value]="type">
                        {{type}}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="courseForm.controls.courseType.errors?.required">
                    Type is required.
                </mat-error>
            </mat-form-field>
        </div>
        <div class="card-row">
            <mat-form-field appearance="fill">
                <mat-label>GLH</mat-label>
                <input matInput formControlName="glh" id="glh">
                <mat-error
                    *ngIf="courseForm.controls.glh.errors?.maxlength && !courseForm.controls.glh.errors?.pattern ">
                    GLH must be less than or equal to 4 digits.
                </mat-error>
                <mat-error *ngIf="courseForm.controls.glh.errors?.pattern ">
                    GLH value is invalid.
                </mat-error>
            </mat-form-field>
        </div>
        <div class="card-row">
            <mat-dialog-actions align="end">
                <button mat-button type="button" (click)="dialogClose()" >Cancel</button>
                <button type="submit" id="save_course_button" [disabled]="!courseForm.valid" mat-flat-button
                    color="primary" >{{isNew ? 'Add' : 'Update'}}</button>
            </mat-dialog-actions>
        </div>
    </form>
</mat-card-content>